import{r as i,j as e,F as _}from"./app-Bgxzhrvc.js";import{E as N}from"./EnrollmentController-nChSkhQE.js";import{D as E,b,a as F,c as I,d as w,e as y,f as T,g as L}from"./dialog-DyAeqWL_.js";import{B as n}from"./button-2PUVNpYc.js";import{I as O}from"./input-B3PHjxIm.js";import{L as t}from"./label-HpvW4xIi.js";import{S as d,a as o,b as m,c,d as p}from"./select-eSxMpkvs.js";import{S as q}from"./switch-p5ihBc0A.js";import{I as r}from"./input-error-9URGWeZJ.js";import{L as P}from"./loader-circle-BgM9NXsF.js";import"./app-h36GOZo8.js";import"./index-DW9AIAM8.js";import"./index-Np49ePWI.js";import"./index-DdyAvwB5.js";import"./index-5AvLgYyg.js";import"./index-Daeha8jH.js";import"./x-BCrVPaUR.js";import"./createLucideIcon-BU9_NwhO.js";import"./index-DzWfvSAt.js";import"./index-BNpA7cIy.js";import"./index-BWC38D-R.js";import"./index-BK3Sl8pL.js";import"./index-DJFfSsPm.js";import"./chevron-down-DzLhHXXM.js";import"./check-CYIf4FlW.js";import"./chevron-up-C5vaA1vC.js";const k=[{value:"active",label:"Active"},{value:"completed",label:"Completed"},{value:"dropped",label:"Dropped"}];function oe({courses:f,users:S,trigger:v}){const[C,x]=i.useState(!1),[h,j]=i.useState(!1),[D,u]=i.useState(new Date().toISOString().split("T")[0]),g=()=>{j(!1),u(new Date().toISOString().split("T")[0])};return e.jsxs(E,{open:C,onOpenChange:a=>{a||g(),x(a)},children:[e.jsx(b,{asChild:!0,children:v??e.jsx(n,{children:"New Enrollment"})}),e.jsx(F,{className:"sm:max-w-2xl",children:e.jsx(_,{...N.store.form(),onSuccess:()=>{x(!1),g()},className:"space-y-5",children:({processing:a,errors:l})=>e.jsxs(e.Fragment,{children:[e.jsxs(I,{children:[e.jsx(w,{children:"Create Enrollment"}),e.jsx(y,{children:"Enroll a student in a course."})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"user_id",children:"Student"}),e.jsxs(d,{name:"user_id",required:!0,children:[e.jsx(o,{children:e.jsx(m,{placeholder:"Select student"})}),e.jsx(c,{children:S.map(s=>e.jsx(p,{value:String(s.id),children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{children:s.name}),e.jsx("span",{className:"text-sm text-muted-foreground",children:s.email})]})},s.id))})]}),e.jsx(r,{message:l.user_id})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"course_id",children:"Course"}),e.jsxs(d,{name:"course_id",required:!0,children:[e.jsx(o,{children:e.jsx(m,{placeholder:"Select course"})}),e.jsx(c,{children:f.map(s=>e.jsx(p,{value:String(s.id),children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{children:s.name}),e.jsx("span",{className:"text-sm text-muted-foreground",children:s.program.name})]})},s.id))})]}),e.jsx(r,{message:l.course_id})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"enrollment_date",children:"Enrollment Date"}),e.jsx(O,{id:"enrollment_date",name:"enrollment_date",type:"date",value:D,onChange:s=>u(s.target.value)}),e.jsx(r,{message:l.enrollment_date})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"status",children:"Status"}),e.jsxs(d,{name:"status",defaultValue:"active",required:!0,children:[e.jsx(o,{children:e.jsx(m,{placeholder:"Select status"})}),e.jsx(c,{children:k.map(s=>e.jsx(p,{value:s.value,children:s.label},s.value))})]}),e.jsx(r,{message:l.status})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(q,{id:"is_paid",name:"is_paid",checked:h,onCheckedChange:j}),e.jsx(t,{htmlFor:"is_paid",children:"Payment Completed"})]}),e.jsx("input",{type:"hidden",name:"is_paid",value:h?"1":"0"}),e.jsxs(T,{className:"gap-2 sm:gap-0",children:[e.jsx(L,{asChild:!0,children:e.jsx(n,{type:"button",variant:"outline",disabled:a,children:"Cancel"})}),e.jsxs(n,{type:"submit",disabled:a,children:[a&&e.jsx(P,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Enrollment"]})]})]})})})]})}export{oe as default};
