import{r,j as e,F as N}from"./app-Bgxzhrvc.js";import{S as y}from"./ServiceController-DioFTMLC.js";import{D,b as S,a as F,c as _,d as w,e as I,f as T,g as E}from"./dialog-DyAeqWL_.js";import{B as n}from"./button-2PUVNpYc.js";import{I as L}from"./input-B3PHjxIm.js";import{L as o}from"./label-HpvW4xIi.js";import{T as k}from"./textarea-CTvWA9QY.js";import{I as s}from"./input-error-9URGWeZJ.js";import{R as P}from"./rich-text-editor-BcwHZ5q7.js";import{C as R}from"./color-picker-BFja9ihb.js";import{I as U}from"./image-DQYlxjbm.js";import{L as B}from"./loader-circle-BgM9NXsF.js";import"./app-h36GOZo8.js";import"./index-DW9AIAM8.js";import"./index-Np49ePWI.js";import"./index-DdyAvwB5.js";import"./index-5AvLgYyg.js";import"./index-Daeha8jH.js";import"./x-BCrVPaUR.js";import"./createLucideIcon-BU9_NwhO.js";import"./index-DzWfvSAt.js";import"./select-eSxMpkvs.js";import"./index-BNpA7cIy.js";import"./index-BWC38D-R.js";import"./index-BK3Sl8pL.js";import"./index-DJFfSsPm.js";import"./chevron-down-DzLhHXXM.js";import"./check-CYIf4FlW.js";import"./chevron-up-C5vaA1vC.js";import"./tabs-uxFiREHU.js";function he({service:t,trigger:g}){const[x,l]=r.useState(!1),[m,c]=r.useState(t.thumbnail_url||null),[j,d]=r.useState(t.description||""),[f,p]=r.useState(t.content||""),[b,u]=r.useState(t.accent_color||""),v=i=>{const a=i.target.files?.[0];c(a?URL.createObjectURL(a):t.thumbnail_url||null)},h=()=>{c(t.thumbnail_url||null),d(t.description||""),p(t.content||""),u(t.accent_color||"")};return e.jsxs(D,{open:x,onOpenChange:i=>{i||h(),l(i)},children:[e.jsx(S,{asChild:!0,children:g??e.jsx(n,{variant:"outline",children:"Edit"})}),e.jsx(F,{className:"sm:max-w-4xl max-h-[90vh] overflow-y-auto",children:e.jsx(N,{method:"post",action:y.update.url(t.id),encType:"multipart/form-data",onSuccess:()=>{l(!1),h()},className:"space-y-5",children:({processing:i,errors:a})=>e.jsxs(e.Fragment,{children:[e.jsxs(_,{children:[e.jsx(w,{children:"Edit Service"}),e.jsx(I,{children:"Update the service. Slug will be regenerated if name changes."})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"name",children:"Service Name *"}),e.jsx(L,{id:"name",name:"name",required:!0,defaultValue:t.name}),e.jsx(s,{message:a.name})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"category",children:"Category *"}),e.jsxs("select",{id:"category",name:"category",required:!0,defaultValue:t.category,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[e.jsx("option",{value:"digital_marketing",children:"Digital Marketing"}),e.jsx("option",{value:"it_development",children:"IT & Development"}),e.jsx("option",{value:"creative_solutions",children:"Creative Solutions"})]}),e.jsx(s,{message:a.category})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"description",children:"Short Description"}),e.jsx(k,{id:"description",name:"description",rows:3,value:j,onChange:C=>d(C.target.value)}),e.jsx(s,{message:a.description})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"content",children:"Full Content"}),e.jsx(P,{value:f,onChange:p,placeholder:"Write detailed service contentâ€¦",name:"content"}),e.jsx(s,{message:a.content})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"thumbnail",children:"Thumbnail Image"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{htmlFor:"thumbnail",className:"inline-flex cursor-pointer items-center gap-2 rounded-md border px-3 py-2 text-sm hover:bg-muted",children:[e.jsx(U,{className:"h-4 w-4"}),t.thumbnail_url?"Change image":"Choose image"]}),e.jsx("input",{id:"thumbnail",name:"thumbnail",type:"file",accept:"image/*",className:"hidden",onChange:v}),m&&e.jsx("img",{src:m,alt:"Preview",className:"h-20 w-32 rounded object-cover border"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG/JPG up to 2MB. Leave empty to keep current."}),e.jsx(s,{message:a.thumbnail})]}),e.jsx(R,{id:"accent_color",name:"accent_color",value:b,onChange:u,error:a.accent_color}),e.jsxs(T,{className:"gap-2 sm:gap-0",children:[e.jsx(E,{asChild:!0,children:e.jsx(n,{type:"button",variant:"outline",disabled:i,children:"Cancel"})}),e.jsxs(n,{type:"submit",disabled:i,children:[i&&e.jsx(B,{className:"mr-2 h-4 w-4 animate-spin"}),"Update"]})]})]})})})]})}export{he as default};
