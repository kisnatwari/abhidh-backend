import{r as p,j as e,F as u}from"./app-DeyNhaIj.js";import{T as g}from"./TeamController-DcRrgKb3.js";import{D as j,b as f,a as N,c as b,d as _,e as C,f as D,g as y}from"./dialog-VLgjrFb4.js";import{B as l}from"./button-Po8_hoCj.js";import{I as n}from"./input-DYNUQEB0.js";import{L as i}from"./label-C5nTzMn2.js";import{I as o}from"./input-error-9cFJtkRf.js";import{I as v}from"./image-B0xc0u5o.js";import{L as F}from"./loader-circle-3LwKL-vM.js";import"./app-D68BraIN.js";import"./index-DW9AIAM8.js";import"./index-CdSBMCOc.js";import"./index-VNmnc6HY.js";import"./index-BK4guFTW.js";import"./index-XU9KE0KS.js";import"./x-Cmss8qIq.js";import"./createLucideIcon-Duo5QKwh.js";import"./index-87MTScox.js";function k({team:a,trigger:c}){const[h,m]=p.useState(!1),[d,t]=p.useState(a.photo_url||null),x=s=>{const r=s.target.files?.[0];t(r?URL.createObjectURL(r):a.photo_url||null)};return e.jsxs(j,{open:h,onOpenChange:s=>{s||t(a.photo_url||null),m(s)},children:[e.jsx(f,{asChild:!0,children:c??e.jsx(l,{variant:"outline",children:"Edit"})}),e.jsx(N,{className:"sm:max-w-2xl",children:e.jsx(u,{method:"post",action:g.update.url(a.id),encType:"multipart/form-data",onSuccess:()=>{m(!1),t(a.photo_url||null)},className:"space-y-5",children:({processing:s,errors:r})=>e.jsxs(e.Fragment,{children:[e.jsxs(b,{children:[e.jsx(_,{children:"Edit Team Member"}),e.jsx(C,{children:"Update the team member information."})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"name",children:"Name"}),e.jsx(n,{id:"name",name:"name",required:!0,defaultValue:a.name,placeholder:"John Doe",autoFocus:!0}),e.jsx(o,{message:r.name})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"designation",children:"Designation"}),e.jsx(n,{id:"designation",name:"designation",required:!0,defaultValue:a.designation,placeholder:"e.g. CEO, CTO, Manager"}),e.jsx(o,{message:r.designation})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"years_of_experience",children:"Years of Experience (Optional)"}),e.jsx(n,{id:"years_of_experience",name:"years_of_experience",type:"number",min:"0",max:"50",defaultValue:a.years_of_experience||"",placeholder:"5"}),e.jsx(o,{message:r.years_of_experience})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"photo",children:"Photo (Optional)"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{htmlFor:"photo",className:"inline-flex cursor-pointer items-center gap-2 rounded-md border px-3 py-2 text-sm hover:bg-muted",children:[e.jsx(v,{className:"h-4 w-4"}),"Choose photo"]}),e.jsx("input",{id:"photo",name:"photo",type:"file",accept:"image/*",className:"hidden",onChange:x}),d&&e.jsx("img",{src:d,alt:"Preview",className:"h-12 w-12 rounded-full object-cover border"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG/JPG up to 2MB"}),e.jsx(o,{message:r.photo})]}),e.jsxs(D,{className:"gap-2 sm:gap-0",children:[e.jsx(y,{asChild:!0,children:e.jsx(l,{type:"button",variant:"outline",disabled:s,children:"Cancel"})}),e.jsxs(l,{type:"submit",disabled:s,children:[s&&e.jsx(F,{className:"mr-2 h-4 w-4 animate-spin"}),"Update"]})]})]})})})]})}export{k as default};
