import{r as p,j as e,F as u}from"./app-DnFC_eNL.js";import{T as g}from"./TrainerController-kQzDYQyR.js";import{D as j,b as f,a as N,c as _,d as b,e as y,f as D,g as v}from"./dialog-BPceDQJC.js";import{B as l}from"./button-rPaPehJE.js";import{I as n}from"./input-CHVdq988.js";import{L as t}from"./label-CL8gTQN-.js";import{I as i}from"./input-error-BW0P0i6f.js";import{I as C}from"./image-CFdjxShU.js";import{L as F}from"./loader-circle-BcRx3z9B.js";import"./app-D68BraIN.js";import"./index-DW9AIAM8.js";import"./index-Cry_GVru.js";import"./index-CXkLwl-k.js";import"./index-BkDfLQMe.js";import"./index-Dw2Xby9W.js";import"./x-DqWHb4Jg.js";import"./createLucideIcon-RyHhqoDJ.js";import"./index-CNKFNWvJ.js";function k({trainer:s,trigger:c}){const[x,m]=p.useState(!1),[d,o]=p.useState(s.photo_url||null),h=a=>{const r=a.target.files?.[0];o(r?URL.createObjectURL(r):s.photo_url||null)};return e.jsxs(j,{open:x,onOpenChange:a=>{a||o(s.photo_url||null),m(a)},children:[e.jsx(f,{asChild:!0,children:c??e.jsx(l,{variant:"outline",children:"Edit"})}),e.jsx(N,{className:"sm:max-w-2xl",children:e.jsx(u,{method:"post",action:g.update.url(s.id),encType:"multipart/form-data",onSuccess:()=>{m(!1),o(s.photo_url||null)},className:"space-y-5",children:({processing:a,errors:r})=>e.jsxs(e.Fragment,{children:[e.jsxs(_,{children:[e.jsx(b,{children:"Edit Trainer"}),e.jsx(y,{children:"Update the trainer information."})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"name",children:"Name"}),e.jsx(n,{id:"name",name:"name",required:!0,defaultValue:s.name,placeholder:"John Doe",autoFocus:!0}),e.jsx(i,{message:r.name})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"expertise",children:"Expertise"}),e.jsx(n,{id:"expertise",name:"expertise",required:!0,defaultValue:s.expertise,placeholder:"e.g. Personal Training, Yoga"}),e.jsx(i,{message:r.expertise})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"years_of_experience",children:"Years of Experience"}),e.jsx(n,{id:"years_of_experience",name:"years_of_experience",type:"number",min:"0",max:"50",required:!0,defaultValue:s.years_of_experience,placeholder:"5"}),e.jsx(i,{message:r.years_of_experience})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"photo",children:"Photo"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{htmlFor:"photo",className:"inline-flex cursor-pointer items-center gap-2 rounded-md border px-3 py-2 text-sm hover:bg-muted",children:[e.jsx(C,{className:"h-4 w-4"}),"Choose photo"]}),e.jsx("input",{id:"photo",name:"photo",type:"file",accept:"image/*",className:"hidden",onChange:h}),d&&e.jsx("img",{src:d,alt:"Preview",className:"h-12 w-12 rounded-full object-cover border"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"PNG/JPG up to 2MB"}),e.jsx(i,{message:r.photo})]}),e.jsxs(D,{className:"gap-2 sm:gap-0",children:[e.jsx(v,{asChild:!0,children:e.jsx(l,{type:"button",variant:"outline",disabled:a,children:"Cancel"})}),e.jsxs(l,{type:"submit",disabled:a,children:[a&&e.jsx(F,{className:"mr-2 h-4 w-4 animate-spin"}),"Update"]})]})]})})})]})}export{k as default};
