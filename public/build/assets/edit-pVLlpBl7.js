import{r as d,j as e,F as I}from"./app-Bgxzhrvc.js";import{E as y}from"./EnrollmentController-nChSkhQE.js";import{D as w,b as O,a as T,c as L,d as V,e as q,f as P,g as k}from"./dialog-DyAeqWL_.js";import{B as _}from"./button-2PUVNpYc.js";import{I as B}from"./input-B3PHjxIm.js";import{L as i}from"./label-HpvW4xIi.js";import{S as n,a as o,b as m,c,d as p}from"./select-eSxMpkvs.js";import{S as U}from"./switch-p5ihBc0A.js";import{I as r}from"./input-error-9URGWeZJ.js";import{L as A}from"./loader-circle-BgM9NXsF.js";import"./app-h36GOZo8.js";import"./index-DW9AIAM8.js";import"./index-Np49ePWI.js";import"./index-DdyAvwB5.js";import"./index-5AvLgYyg.js";import"./index-Daeha8jH.js";import"./x-BCrVPaUR.js";import"./createLucideIcon-BU9_NwhO.js";import"./index-DzWfvSAt.js";import"./index-BNpA7cIy.js";import"./index-BWC38D-R.js";import"./index-BK3Sl8pL.js";import"./index-DJFfSsPm.js";import"./chevron-down-DzLhHXXM.js";import"./check-CYIf4FlW.js";import"./chevron-up-C5vaA1vC.js";const H=[{value:"active",label:"Active"},{value:"completed",label:"Completed"},{value:"dropped",label:"Dropped"}];function he({enrollment:a,courses:v,users:D,trigger:x,open:h,onOpenChange:C}){const[N,E]=d.useState(!1),b=h!==void 0?h:N,u=C||E,[j,g]=d.useState(a.is_paid||!1),[F,f]=d.useState(a.enrollment_date?new Date(a.enrollment_date).toISOString().split("T")[0]:""),S=()=>{g(a.is_paid||!1),f(a.enrollment_date?new Date(a.enrollment_date).toISOString().split("T")[0]:"")};return e.jsxs(w,{open:b,onOpenChange:t=>{t||S(),u(t)},children:[x&&e.jsx(O,{asChild:!0,children:x}),e.jsx(T,{className:"sm:max-w-2xl",children:e.jsx(I,{method:"post",action:y.update.url(a.id),onSuccess:()=>{u(!1),S()},className:"space-y-5",children:({processing:t,errors:l})=>e.jsxs(e.Fragment,{children:[e.jsxs(L,{children:[e.jsx(V,{children:"Edit Enrollment"}),e.jsx(q,{children:"Update the enrollment information."})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"user_id",children:"Student"}),e.jsxs(n,{name:"user_id",defaultValue:String(a.user_id),required:!0,children:[e.jsx(o,{children:e.jsx(m,{placeholder:"Select student"})}),e.jsx(c,{children:D.map(s=>e.jsx(p,{value:String(s.id),children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{children:s.name}),e.jsx("span",{className:"text-sm text-muted-foreground",children:s.email})]})},s.id))})]}),e.jsx(r,{message:l.user_id})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"course_id",children:"Course"}),e.jsxs(n,{name:"course_id",defaultValue:String(a.course_id),required:!0,children:[e.jsx(o,{children:e.jsx(m,{placeholder:"Select course"})}),e.jsx(c,{children:v.map(s=>e.jsx(p,{value:String(s.id),children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{children:s.name}),e.jsx("span",{className:"text-sm text-muted-foreground",children:s.program.name})]})},s.id))})]}),e.jsx(r,{message:l.course_id})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"enrollment_date",children:"Enrollment Date"}),e.jsx(B,{id:"enrollment_date",name:"enrollment_date",type:"date",value:F,onChange:s=>f(s.target.value)}),e.jsx(r,{message:l.enrollment_date})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:"status",children:"Status"}),e.jsxs(n,{name:"status",defaultValue:a.status,required:!0,children:[e.jsx(o,{children:e.jsx(m,{placeholder:"Select status"})}),e.jsx(c,{children:H.map(s=>e.jsx(p,{value:s.value,children:s.label},s.value))})]}),e.jsx(r,{message:l.status})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{id:"is_paid",name:"is_paid",checked:j,onCheckedChange:g}),e.jsx(i,{htmlFor:"is_paid",children:"Payment Completed"})]}),e.jsx("input",{type:"hidden",name:"is_paid",value:j?"1":"0"}),e.jsxs(P,{className:"gap-2 sm:gap-0",children:[e.jsx(k,{asChild:!0,children:e.jsx(_,{type:"button",variant:"outline",disabled:t,children:"Cancel"})}),e.jsxs(_,{type:"submit",disabled:t,children:[t&&e.jsx(A,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Enrollment"]})]})]})})})]})}export{he as default};
