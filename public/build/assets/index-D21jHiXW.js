import{u as b,r as n,b as u,j as e,H as _}from"./app-DeyNhaIj.js";import{A as w}from"./app-layout-DKFYOApa.js";import{T as h}from"./TeamController-DcRrgKb3.js";import{T as S,a as T,b as c,c as i,d as P,e as a}from"./table-DC2sflY4.js";import{P as y,a as C,b as p,d as D,c as I,e as L}from"./pagination-2aUZidBf.js";import{I as k}from"./input-DYNUQEB0.js";import{S as A,a as E,b as H,c as R,d}from"./select-DgO_v8Hj.js";import $ from"./add-BGgGB-9l.js";import M from"./view-5VAEzzrm.js";import V from"./edit-Bxg4IO4R.js";import q from"./delete-Bt3o4uRS.js";import"./app-D68BraIN.js";import"./index-BK4guFTW.js";import"./index-87MTScox.js";import"./button-Po8_hoCj.js";import"./index-CdSBMCOc.js";import"./index-VNmnc6HY.js";import"./index-XU9KE0KS.js";import"./x-Cmss8qIq.js";import"./createLucideIcon-Duo5QKwh.js";import"./index-D3zOfROK.js";import"./index-PvPWVqt0.js";import"./index-B_izgXN0.js";import"./dropdown-menu-DnvfRfwY.js";import"./log-out-w465uie1.js";import"./index-DTMMEruM.js";import"./index-DW9AIAM8.js";import"./app-logo-icon-DzV0efKj.js";import"./BlogController-BN_QdlpY.js";import"./TrainerController-kQzDYQyR.js";import"./GalleryController-DimcFaM-.js";import"./ProgramController-CdHtV-DA.js";import"./ServiceController-DioFTMLC.js";import"./CourseController-IFXHYWAo.js";import"./EnrollmentController-nChSkhQE.js";import"./users-CU0YDxj1.js";import"./images-DjtTIiaX.js";import"./graduation-cap-D_pR4mHR.js";import"./book-open-check-DVbQLFY6.js";import"./user-check-BVR11qX3.js";import"./circle-user-round-DQiPr9D3.js";import"./chevron-right-CJZ6vRnf.js";import"./chevron-left-Dz68Kb8V.js";import"./index-CVV1tXhf.js";import"./chevron-down-DNYYSYNe.js";import"./check-CtlYdAwC.js";import"./chevron-up-BPPvmrAA.js";import"./dialog-VLgjrFb4.js";import"./label-C5nTzMn2.js";import"./input-error-9cFJtkRf.js";import"./image-B0xc0u5o.js";import"./loader-circle-3LwKL-vM.js";import"./trash-2-D32PI3Pn.js";const U=[{title:"Teams",href:h.index().url}];function Ue(){const{props:j}=b(),s=j.teams,x=n.useMemo(()=>{const r=new URL(window.location.href).searchParams;return{search:r.get("search")??"",perPage:r.get("per_page")??String(s.per_page||10)}},[s.per_page]),[o,g]=n.useState(x.search),[l,f]=n.useState(x.perPage);n.useEffect(()=>{const r=setTimeout(()=>m(1),350);return()=>clearTimeout(r)},[o,l]);const m=r=>{const t=new URLSearchParams;o&&t.set("search",o),l&&t.set("per_page",l),r&&r>1&&t.set("page",String(r));const v=`${h.index().url}${t.toString()?`?${t}`:""}`;u.visit(v,{preserveScroll:!0,preserveState:!0})},N=r=>{r&&u.visit(r,{preserveScroll:!0,preserveState:!0})};return e.jsxs(w,{breadcrumbs:U,children:[e.jsx(_,{title:"Teams"}),e.jsxs("div",{className:"flex flex-col gap-4 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Teams"}),e.jsx($,{})]}),e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(k,{placeholder:"Search name or designation...",value:o,onChange:r=>g(r.target.value),className:"w-64"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Rows"}),e.jsxs(A,{value:l,onValueChange:r=>f(r),children:[e.jsx(E,{className:"w-[90px]",children:e.jsx(H,{})}),e.jsxs(R,{children:[e.jsx(d,{value:"10",children:"10"}),e.jsx(d,{value:"20",children:"20"}),e.jsx(d,{value:"50",children:"50"})]})]})]})]}),e.jsx("div",{className:"rounded-xl border",children:e.jsxs(S,{children:[e.jsx(T,{children:e.jsxs(c,{children:[e.jsx(i,{className:"w-[100px]",children:"Photo"}),e.jsx(i,{className:"w-[30%]",children:"Name"}),e.jsx(i,{children:"Designation"}),e.jsx(i,{children:"Experience"}),e.jsx(i,{children:"Created"}),e.jsx(i,{className:"text-right",children:"Actions"})]})}),e.jsxs(P,{children:[s.data.length===0&&e.jsx(c,{children:e.jsx(a,{colSpan:6,className:"text-center text-sm text-muted-foreground",children:"No team members found."})}),s.data.map(r=>e.jsxs(c,{children:[e.jsx(a,{children:r.photo_url?e.jsx("img",{src:r.photo_url,alt:r.name,className:"h-12 w-12 rounded-full object-cover border"}):e.jsx("div",{className:"h-12 w-12 rounded-full border bg-muted/50 flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-muted-foreground",children:"No Photo"})})}),e.jsx(a,{className:"font-medium",children:e.jsx(M,{team:r,trigger:e.jsx("span",{className:"hover:underline cursor-pointer",children:r.name})})}),e.jsx(a,{children:r.designation}),e.jsx(a,{children:r.years_of_experience?`${r.years_of_experience} years`:"â€”"}),e.jsx(a,{children:new Date(r.created_at).toLocaleDateString()}),e.jsxs(a,{className:"text-right space-x-2",children:[e.jsx(V,{team:r}),e.jsx(q,{team:r})]})]},r.id))]})]})}),s.last_page>1&&e.jsxs("div",{className:"mt-4 flex flex-col items-center justify-between gap-3 sm:flex-row",children:[e.jsxs("div",{className:"text-sm text-muted-foreground sm:text-left text-center w-full sm:w-auto",children:["Showing"," ",e.jsx("span",{className:"font-medium",children:(s.current_page-1)*s.per_page+1})," ","â€“"," ",e.jsx("span",{className:"font-medium",children:Math.min(s.current_page*s.per_page,s.total)})," ","of ",e.jsx("span",{className:"font-medium",children:s.total})," results"]}),e.jsx("div",{className:"sm:ml-auto",children:e.jsx(y,{children:e.jsxs(C,{children:[e.jsx(p,{children:e.jsx(D,{onClick:()=>m(s.current_page>1?s.current_page-1:null)})}),s.links.filter(r=>r.label!=="&laquo; Previous"&&r.label!=="Next &raquo;").map((r,t)=>e.jsx(p,{children:e.jsx(I,{isActive:r.active,onClick:()=>N(r.url),dangerouslySetInnerHTML:{__html:r.label}})},t)),e.jsx(p,{children:e.jsx(L,{onClick:()=>m(s.current_page<s.last_page?s.current_page+1:null)})})]})})})]})]})]})}export{Ue as default};
