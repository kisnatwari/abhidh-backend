import{r as u,j as e,H as j,L as l}from"./app-BzrtCi3F.js";import{A as v}from"./academy-layout-BK3yQ6ht.js";import{C as y,a as N}from"./card-BzP-vvV7.js";import{B as w}from"./badge-L82_mSx8.js";import{B as p}from"./button-Ct-by41r.js";import{h as x}from"./colors-BhJreq7B.js";import{c as b,s as k}from"./index-Bghdpc4Q.js";import{C as d}from"./circle-play-BxcuPa8d.js";import{c as C}from"./createLucideIcon-muTtAkfC.js";import{I as _}from"./image-Dte0412w.js";import"./app-D68BraIN.js";import"./dropdown-menu-BsxMZnsx.js";import"./index-DUF48LIb.js";import"./index-CB2sBHOO.js";import"./index-DMpGhW7Q.js";import"./index-C3reKCIp.js";import"./index-pYOG5i5v.js";import"./chevron-down-CtoN1MpR.js";import"./log-out-BkVAatqo.js";import"./youtube-DEsGn-tH.js";import"./index-C47ZDq2S.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],$=C("Camera",A),L={campus:"Campus",classroom:"Classroom",events:"Events",success:"Success Stories",workshop:"Workshops",virtual:"Virtual Sessions"},f=a=>a?L[a]??a.replace(/_/g," ").replace(/\b\w/g,r=>r.toUpperCase()):"Highlights",X=({galleries:a})=>{const[r,i]=u.useState("all"),g=u.useMemo(()=>{const t=new Map;return t.set("all","All Galleries"),a.forEach(s=>{const o=s.option??"highlights";t.has(o)||t.set(o,f(s.option))}),Array.from(t.entries()).map(([s,o])=>({id:s,label:o}))},[a]),c=r==="all"?a:a.filter(t=>(t.option??"highlights")===r);return e.jsxs(v,{children:[e.jsx(j,{title:"Galleries"}),e.jsxs("section",{className:"relative overflow-hidden border-b py-20",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background via-secondary/20 to-background"}),e.jsx("div",{className:"absolute inset-x-0 top-0 h-px bg-gradient-to-r from-transparent via-primary/30 to-transparent"}),e.jsx("div",{className:"container relative mx-auto px-4",children:e.jsxs("div",{className:"mx-auto max-w-3xl space-y-6 text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-primary/20 bg-primary/10 px-4 py-1 text-sm font-semibold text-primary backdrop-blur",children:[e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-primary animate-pulse"}),"Campus & Community Stories"]}),e.jsx("h1",{className:"text-4xl font-bold tracking-tight md:text-5xl",children:"Gallery"}),e.jsx("p",{className:"text-lg text-muted-foreground/90 md:text-xl",children:"Relive the highlights from our classrooms, campus life, corporate engagements, and community events. Each album captures the creativity, collaboration, and celebrations that define Abhidh Academy."})]})})]}),e.jsxs("section",{className:"relative py-20",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-background via-secondary/15 to-background"}),e.jsxs("div",{className:"container relative mx-auto px-4 space-y-10",children:[e.jsx("div",{className:"flex flex-wrap justify-center gap-3",children:g.map(t=>e.jsx("button",{type:"button",onClick:()=>i(t.id),className:b("rounded-full border px-5 py-2 text-sm font-medium transition",r===t.id?"border-primary bg-primary text-primary-foreground shadow-lg shadow-primary/20":"border-white/15 bg-white/5 text-foreground hover:border-primary/40 hover:text-primary"),children:t.label},t.id))}),e.jsx("div",{className:"grid gap-10 md:grid-cols-2 xl:grid-cols-3",children:c.map(t=>{const s=t.media_type==="youtube"&&!!t.youtube_url,o=s?void 0:t.photos?.[0],m=s&&t.youtube_url?S(t.youtube_url):null,h="#1d4ed8";return e.jsxs(y,{className:b("group relative overflow-hidden border bg-card/60 p-5 backdrop-blur-xl","transition-all duration-500 hover:-translate-y-1 hover:shadow-[0_35px_85px_-45px_rgba(18,40,90,0.75)]"),style:{borderColor:x(h,.25),boxShadow:`0 25px 70px -50px ${x(h,.45)}`},children:[e.jsxs(l,{href:`/academy/galleries/${t.id}`,className:"relative block overflow-hidden rounded-2xl","aria-label":`View gallery ${t.title}`,children:[s?m?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:m,alt:t.title,className:"h-56 w-full rounded-2xl object-cover transition-transform duration-700 group-hover:scale-105",loading:"lazy"}),e.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center",children:e.jsx(d,{className:"h-14 w-14 text-white drop-shadow-lg"})})]}):e.jsx("div",{className:"flex h-56 w-full items-center justify-center rounded-2xl bg-gradient-to-br from-primary/10 to-accent/10 text-muted-foreground",children:e.jsx(d,{className:"h-10 w-10"})}):o?.photo_url?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:o.photo_url,alt:o.caption??t.title,className:"h-56 w-full rounded-2xl object-cover transition-transform duration-700 group-hover:scale-105",loading:"lazy"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-70"})]}):e.jsx("div",{className:"flex h-56 w-full items-center justify-center rounded-2xl bg-gradient-to-br from-primary/10 to-accent/10 text-muted-foreground",children:e.jsx($,{className:"h-10 w-10"})}),e.jsxs("div",{className:"absolute left-4 top-4 flex items-center gap-2",children:[e.jsx(w,{className:"border border-white/15 bg-white/15 text-xs font-semibold text-white backdrop-blur",children:f(t.option)}),e.jsx("span",{className:"rounded-full border border-white/15 bg-white/15 px-3 py-1 text-[11px] font-semibold text-white backdrop-blur",children:s?"YouTube Video":`${t.photos?.length??0} photo${(t.photos?.length??0)===1?"":"s"}`})]}),e.jsx("div",{className:"absolute bottom-4 left-4 right-4 text-white",children:e.jsx("h3",{className:"text-lg font-semibold leading-tight",children:t.title})})]}),e.jsxs(N,{className:"mt-5 space-y-4 text-sm text-muted-foreground/90",children:[e.jsx("p",{className:"leading-relaxed line-clamp-3",children:k(t.description)||"A curated collection capturing the spirit and energy of Abhidh Academy events and milestones."}),e.jsxs("div",{className:"flex items-center justify-between gap-3 text-xs text-muted-foreground/80",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"inline-flex h-2 w-2 rounded-full bg-primary/80"}),e.jsxs("span",{children:["Captured"," ",e.jsx("strong",{className:"text-foreground",children:t.created_at?new Date(t.created_at).toLocaleDateString(void 0,{month:"short",year:"numeric"}):"recently"})]})]}),e.jsx("div",{className:"flex items-center gap-1",children:s?e.jsxs(e.Fragment,{children:[e.jsx(d,{className:"h-3.5 w-3.5 text-primary"}),e.jsx("span",{children:"Stream video"})]}):e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"h-3.5 w-3.5 text-primary"}),e.jsx("span",{children:"High-resolution"})]})})]}),!s&&t.photos?.slice(1,4).length?e.jsxs("div",{className:"flex items-center gap-3",children:[t.photos.slice(1,4).map(n=>n.photo_url?e.jsx("img",{src:n.photo_url,alt:n.caption??t.title,className:"h-14 w-14 rounded-xl object-cover opacity-90 transition-all group-hover:opacity-100",loading:"lazy"},n.id):e.jsx("div",{className:"h-14 w-14 rounded-xl bg-gradient-to-br from-muted/30 to-muted/10"},n.id)),t.photos.length>4?e.jsxs("div",{className:"flex h-14 w-14 items-center justify-center rounded-xl border border-white/10 bg-white/10 text-[11px] font-semibold text-muted-foreground/80 backdrop-blur",children:["+",t.photos.length-4]}):null]}):null,e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(p,{variant:"outline",className:"rounded-full border-white/15 bg-white/5 text-xs font-semibold text-foreground transition hover:bg-white/15 hover:text-foreground",asChild:!0,children:e.jsx(l,{href:`/academy/galleries/${t.id}`,children:s?"Watch video":"View gallery"})}),e.jsx(p,{variant:"ghost",className:"text-xs font-semibold text-primary hover:bg-transparent hover:text-primary/80",asChild:!0,children:e.jsx(l,{href:`/academy/galleries/${t.id}`,children:"Read story"})})]})]})]},t.id)})}),c.length?null:e.jsx("div",{className:"mt-16 text-center text-muted-foreground",children:"No galleries in this category yet. Please check back soon."})]})]})]})},S=a=>{if(!a)return null;try{const r=new URL(a);if(r.hostname==="youtu.be")return`https://img.youtube.com/vi/${r.pathname.replace("/","")||""}/hqdefault.jpg`;if(r.searchParams.has("v")){const i=r.searchParams.get("v");return i?`https://img.youtube.com/vi/${i}/hqdefault.jpg`:null}if(r.pathname.startsWith("/embed/")){const i=r.pathname.split("/")[2];return i?`https://img.youtube.com/vi/${i}/hqdefault.jpg`:null}}catch{return null}return null};export{X as default};
