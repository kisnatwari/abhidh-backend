import{u as G,r as f,b as B,j as t,H as J}from"./app-BzrtCi3F.js";import{A as K}from"./app-layout-DWQ0Mcyv.js";import{q as x,a as A}from"./index-DW9AIAM8.js";import{T as W,a as X,b as S,c as g,d as Y,e as p}from"./table-C6q2ruMv.js";import{P as Z,a as ee,b as _,d as te,c as re,e as oe}from"./pagination-BuWKaZ8k.js";import{B as O}from"./badge-L82_mSx8.js";import{I as le}from"./input-Cb29ijCD.js";import{S as w,a as P,b as Q,c as q,d as u}from"./select-Dxf6X96M.js";import ie from"./add-BngWftT9.js";import se from"./edit-D358NSJV.js";import ae from"./delete-9fMu-CqO.js";import ne from"./view-4Po8pNsA.js";import{f as H}from"./format-CLMFs22B.js";import"./app-D68BraIN.js";import"./index-Bghdpc4Q.js";import"./index-C47ZDq2S.js";import"./button-Ct-by41r.js";import"./index-C3reKCIp.js";import"./index-DUF48LIb.js";import"./index-CB2sBHOO.js";import"./x-AivVGCxp.js";import"./createLucideIcon-muTtAkfC.js";import"./index-DMpGhW7Q.js";import"./index-pYOG5i5v.js";import"./index-By82U2n3.js";import"./dropdown-menu-BsxMZnsx.js";import"./log-out-BkVAatqo.js";import"./index-DTMMEruM.js";import"./app-logo-icon-BN3KEeuk.js";import"./BlogController-BN_QdlpY.js";import"./TrainerController-kQzDYQyR.js";import"./GalleryController-DimcFaM-.js";import"./ProgramController-CdHtV-DA.js";import"./ServiceController-DioFTMLC.js";import"./CourseController-IFXHYWAo.js";import"./EnrollmentController-nChSkhQE.js";import"./TeamController-DcRrgKb3.js";import"./users-CFVNWBO6.js";import"./images-DIX4D6a_.js";import"./graduation-cap-Cw5kWqSn.js";import"./book-open-check-CVpms7y3.js";import"./user-check-BKocmCrg.js";import"./circle-user-round-CCrSpJXq.js";import"./chevron-right-DRhikwN8.js";import"./chevron-left-4K6Xe-Z-.js";import"./index-Bcrz9S_P.js";import"./chevron-down-CtoN1MpR.js";import"./check-Dosg70EI.js";import"./chevron-up-BCOX4nCg.js";import"./dialog-s7BdBQva.js";import"./label-CDmK6tZ2.js";import"./switch-DE6ZWWJd.js";import"./input-error-CkaTJgyf.js";import"./rich-text-editor-CMp-HrM_.js";import"./image-Dte0412w.js";import"./calendar-days-DkH-LLHD.js";import"./loader-circle-CgC_-cMl.js";import"./trash-2-BzOqiHng.js";import"./en-US-DzAkKII6.js";const l=e=>({url:l.url(e),method:"get"});l.definition={methods:["get","head"],url:"/blogs"};l.url=e=>l.definition.url+x(e);l.get=e=>({url:l.url(e),method:"get"});l.head=e=>({url:l.url(e),method:"head"});const D=e=>({action:l.url(e),method:"get"});D.get=e=>({action:l.url(e),method:"get"});D.head=e=>({action:l.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});l.form=D;const i=e=>({url:i.url(e),method:"get"});i.definition={methods:["get","head"],url:"/blogs/create"};i.url=e=>i.definition.url+x(e);i.get=e=>({url:i.url(e),method:"get"});i.head=e=>({url:i.url(e),method:"head"});const T=e=>({action:i.url(e),method:"get"});T.get=e=>({action:i.url(e),method:"get"});T.head=e=>({action:i.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});i.form=T;const d=e=>({url:d.url(e),method:"post"});d.definition={methods:["post"],url:"/blogs"};d.url=e=>d.definition.url+x(e);d.post=e=>({url:d.url(e),method:"post"});const F=e=>({action:d.url(e),method:"post"});F.post=e=>({action:d.url(e),method:"post"});d.form=F;const s=(e,r)=>({url:s.url(e,r),method:"get"});s.definition={methods:["get","head"],url:"/blogs/{blog}"};s.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={blog:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={blog:e.id}),Array.isArray(e)&&(e={blog:e[0]}),e=A(e);const n={blog:typeof e.blog=="object"?e.blog.id:e.blog};return s.definition.url.replace("{blog}",n.blog.toString()).replace(/\/+$/,"")+x(r)};s.get=(e,r)=>({url:s.url(e,r),method:"get"});s.head=(e,r)=>({url:s.url(e,r),method:"head"});const E=(e,r)=>({action:s.url(e,r),method:"get"});E.get=(e,r)=>({action:s.url(e,r),method:"get"});E.head=(e,r)=>({action:s.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...r?.query??r?.mergeQuery??{}}}),method:"get"});s.form=E;const a=(e,r)=>({url:a.url(e,r),method:"get"});a.definition={methods:["get","head"],url:"/blogs/{blog}/edit"};a.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={blog:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={blog:e.id}),Array.isArray(e)&&(e={blog:e[0]}),e=A(e);const n={blog:typeof e.blog=="object"?e.blog.id:e.blog};return a.definition.url.replace("{blog}",n.blog.toString()).replace(/\/+$/,"")+x(r)};a.get=(e,r)=>({url:a.url(e,r),method:"get"});a.head=(e,r)=>({url:a.url(e,r),method:"head"});const C=(e,r)=>({action:a.url(e,r),method:"get"});C.get=(e,r)=>({action:a.url(e,r),method:"get"});C.head=(e,r)=>({action:a.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...r?.query??r?.mergeQuery??{}}}),method:"get"});a.form=C;const m=(e,r)=>({url:m.url(e,r),method:"delete"});m.definition={methods:["delete"],url:"/blogs/{blog}"};m.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={blog:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={blog:e.id}),Array.isArray(e)&&(e={blog:e[0]}),e=A(e);const n={blog:typeof e.blog=="object"?e.blog.id:e.blog};return m.definition.url.replace("{blog}",n.blog.toString()).replace(/\/+$/,"")+x(r)};m.delete=(e,r)=>({url:m.url(e,r),method:"delete"});const I=(e,r)=>({action:m.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...r?.query??r?.mergeQuery??{}}}),method:"post"});I.delete=(e,r)=>({action:m.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...r?.query??r?.mergeQuery??{}}}),method:"post"});m.form=I;const c=(e,r)=>({url:c.url(e,r),method:"post"});c.definition={methods:["post"],url:"/blogs/{blog}"};c.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={blog:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={blog:e.id}),Array.isArray(e)&&(e={blog:e[0]}),e=A(e);const n={blog:typeof e.blog=="object"?e.blog.id:e.blog};return c.definition.url.replace("{blog}",n.blog.toString()).replace(/\/+$/,"")+x(r)};c.post=(e,r)=>({url:c.url(e,r),method:"post"});const L=(e,r)=>({action:c.url(e,r),method:"post"});L.post=(e,r)=>({action:c.url(e,r),method:"post"});c.form=L;const $={index:Object.assign(l,l),create:Object.assign(i,i),store:Object.assign(d,d),show:Object.assign(s,s),edit:Object.assign(a,a),destroy:Object.assign(m,m),update:Object.assign(c,c)},de=[{title:"Blogs",href:$.index().url}];function gt(){const{props:e}=G(),r=e.blogs,n=f.useMemo(()=>{const o=new URL(window.location.href).searchParams;return{search:o.get("search")??"",status:o.get("status")??"all",option:o.get("option")??"all",perPage:o.get("per_page")??String(r.per_page||10)}},[r.per_page]),[y,k]=f.useState(n.search),[j,R]=f.useState(n.status),[b,V]=f.useState(n.option),[v,M]=f.useState(n.perPage);f.useEffect(()=>{const o=setTimeout(()=>N(1),350);return()=>clearTimeout(o)},[y,j,b,v]);const N=o=>{const h=new URLSearchParams;y&&h.set("search",y),j&&j!=="all"&&h.set("status",j),b&&b!=="all"&&h.set("option",b),v&&h.set("per_page",v),o&&o>1&&h.set("page",String(o));const z=`${$.index().url}${h.toString()?`?${h}`:""}`;B.visit(z,{preserveScroll:!0,preserveState:!0})},U=o=>{o&&B.visit(o,{preserveScroll:!0,preserveState:!0})};return t.jsxs(K,{breadcrumbs:de,children:[t.jsx(J,{title:"Blogs"}),t.jsxs("div",{className:"flex flex-col gap-4 p-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h1",{className:"text-xl font-semibold",children:"Blogs"}),t.jsx(ie,{})]}),t.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(le,{placeholder:"Search title...",value:y,onChange:o=>k(o.target.value),className:"w-64"}),t.jsxs(w,{value:j,onValueChange:o=>R(o),children:[t.jsx(P,{className:"w-40",children:t.jsx(Q,{placeholder:"Status"})}),t.jsxs(q,{children:[t.jsx(u,{value:"all",children:"All"}),t.jsx(u,{value:"published",children:"Published"}),t.jsx(u,{value:"draft",children:"Draft"})]})]}),t.jsxs(w,{value:b,onValueChange:V,children:[t.jsx(P,{className:"w-48",children:t.jsx(Q,{placeholder:"Option"})}),t.jsxs(q,{children:[t.jsx(u,{value:"all",children:"All Options"}),t.jsx(u,{value:"Abhidh",children:"Abhidh"}),t.jsx(u,{value:"Abhidh Creative",children:"Abhidh Creative"}),t.jsx(u,{value:"Abhidh Academy",children:"Abhidh Academy"})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Rows"}),t.jsxs(w,{value:v,onValueChange:o=>M(o),children:[t.jsx(P,{className:"w-[90px]",children:t.jsx(Q,{})}),t.jsxs(q,{children:[t.jsx(u,{value:"10",children:"10"}),t.jsx(u,{value:"20",children:"20"}),t.jsx(u,{value:"50",children:"50"})]})]})]})]}),t.jsx("div",{className:"rounded-xl border",children:t.jsxs(W,{children:[t.jsx(X,{children:t.jsxs(S,{children:[t.jsx(g,{className:"w-[100px]",children:"Image"}),t.jsx(g,{className:"w-[40%]",children:"Title"}),t.jsx(g,{children:"Option"}),t.jsx(g,{children:"Status"}),t.jsx(g,{children:"Published"}),t.jsx(g,{children:"Created"}),t.jsx(g,{className:"text-right",children:"Actions"})]})}),t.jsxs(Y,{children:[r.data.length===0&&t.jsx(S,{children:t.jsx(p,{colSpan:6,className:"text-center text-sm text-muted-foreground",children:"No blogs found."})}),r.data.map(o=>t.jsxs(S,{children:[t.jsx(p,{children:o.image_url?t.jsx("img",{src:o.image_url,alt:o.title,className:"h-12 w-16 rounded object-cover border"}):t.jsx("div",{className:"h-12 w-16 rounded border bg-muted/50"})}),t.jsx(p,{className:"font-medium",children:t.jsx(ne,{blog:o,trigger:t.jsx("span",{className:"hover:underline cursor-pointer",children:o.title})})}),t.jsx(p,{children:o.option||"—"}),t.jsx(p,{children:o.is_published?t.jsx(O,{variant:"default",children:"Published"}):t.jsx(O,{variant:"secondary",children:"Draft"})}),t.jsx(p,{children:o.published_at?H(new Date(o.published_at),"PP"):"—"}),t.jsx(p,{children:o.created_at?H(new Date(o.created_at),"PP"):"—"}),t.jsxs(p,{className:"text-right space-x-2",children:[t.jsx(se,{blog:o}),t.jsx(ae,{blog:o})]})]},o.id))]})]})}),r.last_page>1&&t.jsxs("div",{className:"mt-4 flex flex-col items-center justify-between gap-3 sm:flex-row",children:[t.jsxs("div",{className:"text-sm text-muted-foreground sm:text-left text-center w-full sm:w-auto",children:["Showing"," ",t.jsx("span",{className:"font-medium",children:(r.current_page-1)*r.per_page+1})," ","–"," ",t.jsx("span",{className:"font-medium",children:Math.min(r.current_page*r.per_page,r.total)})," ","of ",t.jsx("span",{className:"font-medium",children:r.total})," results"]}),t.jsx("div",{className:"sm:ml-auto",children:t.jsx(Z,{children:t.jsxs(ee,{children:[t.jsx(_,{children:t.jsx(te,{onClick:()=>N(r.current_page>1?r.current_page-1:null)})}),r.links.filter(o=>o.label!=="&laquo; Previous"&&o.label!=="Next &raquo;").map((o,h)=>t.jsx(_,{children:t.jsx(re,{isActive:o.active,onClick:()=>U(o.url),dangerouslySetInnerHTML:{__html:o.label}})},h)),t.jsx(_,{children:t.jsx(oe,{onClick:()=>N(r.current_page<r.last_page?r.current_page+1:null)})})]})})})]})]})]})}export{gt as default};
