import{u as T,r as o,b as j,j as e,H as y}from"./app-BzrtCi3F.js";import{A as I}from"./app-layout-DWQ0Mcyv.js";import{T as R,a as k,b as x,c as i,d as A,e as t}from"./table-C6q2ruMv.js";import{P as L,a as q,b as u,d as D,c as H,e as E}from"./pagination-BuWKaZ8k.js";import{I as U}from"./input-Cb29ijCD.js";import{S as g,a as f,b as v,c as N,d as l}from"./select-Dxf6X96M.js";import{B as h}from"./badge-L82_mSx8.js";import V from"./view-BIDRURfB.js";import B from"./delete-1UFFN-r5.js";import"./app-D68BraIN.js";import"./index-Bghdpc4Q.js";import"./index-C47ZDq2S.js";import"./button-Ct-by41r.js";import"./index-C3reKCIp.js";import"./index-DUF48LIb.js";import"./index-CB2sBHOO.js";import"./x-AivVGCxp.js";import"./createLucideIcon-muTtAkfC.js";import"./index-DMpGhW7Q.js";import"./index-pYOG5i5v.js";import"./index-By82U2n3.js";import"./dropdown-menu-BsxMZnsx.js";import"./log-out-BkVAatqo.js";import"./index-DTMMEruM.js";import"./index-DW9AIAM8.js";import"./app-logo-icon-BN3KEeuk.js";import"./BlogController-BN_QdlpY.js";import"./TrainerController-kQzDYQyR.js";import"./GalleryController-DimcFaM-.js";import"./ProgramController-CdHtV-DA.js";import"./ServiceController-DioFTMLC.js";import"./CourseController-IFXHYWAo.js";import"./EnrollmentController-nChSkhQE.js";import"./TeamController-DcRrgKb3.js";import"./users-CFVNWBO6.js";import"./images-DIX4D6a_.js";import"./graduation-cap-Cw5kWqSn.js";import"./book-open-check-CVpms7y3.js";import"./user-check-BKocmCrg.js";import"./circle-user-round-CCrSpJXq.js";import"./chevron-right-DRhikwN8.js";import"./chevron-left-4K6Xe-Z-.js";import"./index-Bcrz9S_P.js";import"./chevron-down-CtoN1MpR.js";import"./check-Dosg70EI.js";import"./chevron-up-BCOX4nCg.js";import"./dialog-s7BdBQva.js";import"./textarea-DtIFXNtD.js";import"./label-CDmK6tZ2.js";import"./eye-IGeMaznb.js";import"./loader-circle-CgC_-cMl.js";import"./mail-D6w37O-8.js";import"./trash-2-BzOqiHng.js";const M=[{title:"Inquiries",href:"/contact-us"}];function Me(){const{props:S}=T(),r=S.contacts,d=o.useMemo(()=>{const s=new URL(window.location.href).searchParams;return{search:s.get("search")??"",status:s.get("status")??"all",perPage:s.get("per_page")??String(r.per_page||10)}},[r.per_page]),[c,b]=o.useState(d.search),[n,_]=o.useState(d.status),[m,w]=o.useState(d.perPage);o.useEffect(()=>{const s=setTimeout(()=>p(1),350);return()=>clearTimeout(s)},[c,n,m]);const p=s=>{const a=new URLSearchParams;c&&a.set("search",c),n&&n!=="all"&&a.set("status",n),m&&a.set("per_page",m),s&&s>1&&a.set("page",String(s));const C=`/contact-us${a.toString()?`?${a}`:""}`;j.visit(C,{preserveScroll:!0,preserveState:!0})},P=s=>{s&&j.visit(s,{preserveScroll:!0,preserveState:!0})};return e.jsxs(I,{breadcrumbs:M,children:[e.jsx(y,{title:"Inquiries"}),e.jsxs("div",{className:"flex flex-col gap-4 p-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-xl font-semibold",children:"Customer Inquiries"})}),e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{placeholder:"Search name, email, subject...",value:c,onChange:s=>b(s.target.value),className:"w-64"}),e.jsxs(g,{value:n,onValueChange:s=>_(s),children:[e.jsx(f,{className:"w-40",children:e.jsx(v,{placeholder:"Status"})}),e.jsxs(N,{children:[e.jsx(l,{value:"all",children:"All"}),e.jsx(l,{value:"pending",children:"Pending"}),e.jsx(l,{value:"replied",children:"Replied"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Rows"}),e.jsxs(g,{value:m,onValueChange:s=>w(s),children:[e.jsx(f,{className:"w-[90px]",children:e.jsx(v,{})}),e.jsxs(N,{children:[e.jsx(l,{value:"10",children:"10"}),e.jsx(l,{value:"20",children:"20"}),e.jsx(l,{value:"50",children:"50"})]})]})]})]}),e.jsx("div",{className:"rounded-xl border",children:e.jsxs(R,{children:[e.jsx(k,{children:e.jsxs(x,{children:[e.jsx(i,{children:"Source"}),e.jsx(i,{children:"Name"}),e.jsx(i,{children:"Email"}),e.jsx(i,{children:"Phone"}),e.jsx(i,{children:"Subject"}),e.jsx(i,{children:"Status"}),e.jsx(i,{children:"Created"}),e.jsx(i,{className:"text-right",children:"Actions"})]})}),e.jsxs(A,{children:[r.data.length===0&&e.jsx(x,{children:e.jsx(t,{colSpan:8,className:"text-center text-sm text-muted-foreground",children:"No contact submissions found."})}),r.data.map(s=>e.jsxs(x,{children:[e.jsx(t,{className:"font-medium",children:e.jsx(h,{variant:"secondary",children:s.source?s.source.charAt(0).toUpperCase()+s.source.slice(1):"—"})}),e.jsx(t,{className:"font-medium",children:s.name||"—"}),e.jsx(t,{children:e.jsx("a",{href:`mailto:${s.email}`,className:"text-primary hover:underline",children:s.email})}),e.jsx(t,{children:s.phone||"—"}),e.jsx(t,{children:s.subject?e.jsx("span",{className:"truncate max-w-xs inline-block",children:s.subject}):"—"}),e.jsx(t,{children:s.is_replied?e.jsx(h,{variant:"default",children:"Replied"}):e.jsx(h,{variant:"secondary",children:"Pending"})}),e.jsx(t,{children:e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("span",{children:new Date(s.created_at).toLocaleDateString()}),s.created_at_human?e.jsx("span",{className:"text-xs text-muted-foreground",children:s.created_at_human}):null]})}),e.jsxs(t,{className:"text-right space-x-2",children:[e.jsx(V,{contact:s}),e.jsx(B,{contact:s})]})]},s.id))]})]})}),r.last_page>1&&e.jsxs("div",{className:"mt-4 flex flex-col items-center justify-between gap-3 sm:flex-row",children:[e.jsxs("div",{className:"text-sm text-muted-foreground sm:text-left text-center w-full sm:w-auto",children:["Showing"," ",e.jsx("span",{className:"font-medium",children:(r.current_page-1)*r.per_page+1})," ","–"," ",e.jsx("span",{className:"font-medium",children:Math.min(r.current_page*r.per_page,r.total)})," ","of ",e.jsx("span",{className:"font-medium",children:r.total})," results"]}),e.jsx("div",{className:"sm:ml-auto",children:e.jsx(L,{children:e.jsxs(q,{children:[e.jsx(u,{children:e.jsx(D,{onClick:()=>p(r.current_page>1?r.current_page-1:null)})}),r.links.filter(s=>s.label!=="&laquo; Previous"&&s.label!=="Next &raquo;").map((s,a)=>e.jsx(u,{children:e.jsx(H,{isActive:s.active,onClick:()=>P(s.url),dangerouslySetInnerHTML:{__html:s.label}})},a)),e.jsx(u,{children:e.jsx(E,{onClick:()=>p(r.current_page<r.last_page?r.current_page+1:null)})})]})})})]})]})]})}export{Me as default};
