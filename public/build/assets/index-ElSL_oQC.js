import{u as U,r as f,b as Q,j as t,H as z}from"./app-DeyNhaIj.js";import{A as G}from"./app-layout-DKFYOApa.js";import{q as g,a as v}from"./index-DW9AIAM8.js";import{T as J,a as K,b as N,c as h,d as W,e as p}from"./table-DC2sflY4.js";import{P as X,a as Y,b as S,d as Z,c as ee,e as re}from"./pagination-2aUZidBf.js";import{I as te}from"./input-DYNUQEB0.js";import{S as q,a as D,b as T,c as E,d as j}from"./select-DgO_v8Hj.js";import{B as H}from"./badge-e4a7wIAz.js";import{c as oe}from"./index-BK4guFTW.js";import ae from"./add-Djru2s7p.js";import ie from"./edit-fHP_Sdvp.js";import se from"./delete-djW6py1k.js";import le from"./view-Ddj9K_t_.js";import"./app-D68BraIN.js";import"./index-87MTScox.js";import"./button-Po8_hoCj.js";import"./index-CdSBMCOc.js";import"./index-VNmnc6HY.js";import"./index-XU9KE0KS.js";import"./x-Cmss8qIq.js";import"./createLucideIcon-Duo5QKwh.js";import"./index-D3zOfROK.js";import"./index-PvPWVqt0.js";import"./index-B_izgXN0.js";import"./dropdown-menu-DnvfRfwY.js";import"./log-out-w465uie1.js";import"./index-DTMMEruM.js";import"./app-logo-icon-DzV0efKj.js";import"./BlogController-BN_QdlpY.js";import"./TrainerController-kQzDYQyR.js";import"./GalleryController-DimcFaM-.js";import"./ProgramController-CdHtV-DA.js";import"./ServiceController-DioFTMLC.js";import"./CourseController-IFXHYWAo.js";import"./EnrollmentController-nChSkhQE.js";import"./TeamController-DcRrgKb3.js";import"./users-CU0YDxj1.js";import"./images-DjtTIiaX.js";import"./graduation-cap-D_pR4mHR.js";import"./book-open-check-DVbQLFY6.js";import"./user-check-BVR11qX3.js";import"./circle-user-round-DQiPr9D3.js";import"./chevron-right-CJZ6vRnf.js";import"./chevron-left-Dz68Kb8V.js";import"./index-CVV1tXhf.js";import"./chevron-down-DNYYSYNe.js";import"./check-CtlYdAwC.js";import"./chevron-up-BPPvmrAA.js";import"./dialog-VLgjrFb4.js";import"./label-C5nTzMn2.js";import"./input-error-9cFJtkRf.js";import"./rich-text-editor-BN0U7LEJ.js";import"./loader-circle-3LwKL-vM.js";import"./trash-2-D32PI3Pn.js";const a=e=>({url:a.url(e),method:"get"});a.definition={methods:["get","head"],url:"/programs"};a.url=e=>a.definition.url+g(e);a.get=e=>({url:a.url(e),method:"get"});a.head=e=>({url:a.url(e),method:"head"});const _=e=>({action:a.url(e),method:"get"});_.get=e=>({action:a.url(e),method:"get"});_.head=e=>({action:a.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});a.form=_;const i=e=>({url:i.url(e),method:"get"});i.definition={methods:["get","head"],url:"/programs/create"};i.url=e=>i.definition.url+g(e);i.get=e=>({url:i.url(e),method:"get"});i.head=e=>({url:i.url(e),method:"head"});const w=e=>({action:i.url(e),method:"get"});w.get=e=>({action:i.url(e),method:"get"});w.head=e=>({action:i.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});i.form=w;const n=e=>({url:n.url(e),method:"post"});n.definition={methods:["post"],url:"/programs"};n.url=e=>n.definition.url+g(e);n.post=e=>({url:n.url(e),method:"post"});const I=e=>({action:n.url(e),method:"post"});I.post=e=>({action:n.url(e),method:"post"});n.form=I;const s=(e,r)=>({url:s.url(e,r),method:"get"});s.definition={methods:["get","head"],url:"/programs/{program}"};s.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={program:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={program:e.id}),Array.isArray(e)&&(e={program:e[0]}),e=v(e);const m={program:typeof e.program=="object"?e.program.id:e.program};return s.definition.url.replace("{program}",m.program.toString()).replace(/\/+$/,"")+g(r)};s.get=(e,r)=>({url:s.url(e,r),method:"get"});s.head=(e,r)=>({url:s.url(e,r),method:"head"});const P=(e,r)=>({action:s.url(e,r),method:"get"});P.get=(e,r)=>({action:s.url(e,r),method:"get"});P.head=(e,r)=>({action:s.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...r?.query??r?.mergeQuery??{}}}),method:"get"});s.form=P;const l=(e,r)=>({url:l.url(e,r),method:"get"});l.definition={methods:["get","head"],url:"/programs/{program}/edit"};l.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={program:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={program:e.id}),Array.isArray(e)&&(e={program:e[0]}),e=v(e);const m={program:typeof e.program=="object"?e.program.id:e.program};return l.definition.url.replace("{program}",m.program.toString()).replace(/\/+$/,"")+g(r)};l.get=(e,r)=>({url:l.url(e,r),method:"get"});l.head=(e,r)=>({url:l.url(e,r),method:"head"});const C=(e,r)=>({action:l.url(e,r),method:"get"});C.get=(e,r)=>({action:l.url(e,r),method:"get"});C.head=(e,r)=>({action:l.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...r?.query??r?.mergeQuery??{}}}),method:"get"});l.form=C;const c=(e,r)=>({url:c.url(e,r),method:"delete"});c.definition={methods:["delete"],url:"/programs/{program}"};c.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={program:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={program:e.id}),Array.isArray(e)&&(e={program:e[0]}),e=v(e);const m={program:typeof e.program=="object"?e.program.id:e.program};return c.definition.url.replace("{program}",m.program.toString()).replace(/\/+$/,"")+g(r)};c.delete=(e,r)=>({url:c.url(e,r),method:"delete"});const O=(e,r)=>({action:c.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...r?.query??r?.mergeQuery??{}}}),method:"post"});O.delete=(e,r)=>({action:c.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...r?.query??r?.mergeQuery??{}}}),method:"post"});c.form=O;const d=(e,r)=>({url:d.url(e,r),method:"post"});d.definition={methods:["post"],url:"/programs/{program}"};d.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={program:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={program:e.id}),Array.isArray(e)&&(e={program:e[0]}),e=v(e);const m={program:typeof e.program=="object"?e.program.id:e.program};return d.definition.url.replace("{program}",m.program.toString()).replace(/\/+$/,"")+g(r)};d.post=(e,r)=>({url:d.url(e,r),method:"post"});const k=(e,r)=>({action:d.url(e,r),method:"post"});k.post=(e,r)=>({action:d.url(e,r),method:"post"});d.form=k;const F={index:Object.assign(a,a),create:Object.assign(i,i),store:Object.assign(n,n),show:Object.assign(s,s),edit:Object.assign(l,l),destroy:Object.assign(c,c),update:Object.assign(d,d)},me=[{title:"Programs",href:F.index().url}],L={school:"School",college:"College",corporate:"Corporate",it:"IT",digital_marketing:"Digital Marketing"},ne={school:"bg-blue-500",college:"bg-green-500",corporate:"bg-purple-500",it:"bg-red-500",digital_marketing:"bg-yellow-500"};function cr(){const{props:e}=U(),r=e.programs,m=f.useMemo(()=>{const o=new URL(window.location.href).searchParams;return{search:o.get("search")??"",category:o.get("category")??"all",perPage:o.get("per_page")??String(r.per_page||10)}},[r.per_page]),[y,$]=f.useState(m.search),[x,M]=f.useState(m.category),[b,R]=f.useState(m.perPage);f.useEffect(()=>{const o=setTimeout(()=>A(1),350);return()=>clearTimeout(o)},[y,x,b]);const A=o=>{const u=new URLSearchParams;y&&u.set("search",y),x&&x!=="all"&&u.set("category",x),b&&u.set("per_page",b),o&&o>1&&u.set("page",String(o));const B=`${F.index().url}${u.toString()?`?${u}`:""}`;Q.visit(B,{preserveScroll:!0,preserveState:!0})},V=o=>{o&&Q.visit(o,{preserveScroll:!0,preserveState:!0})};return t.jsxs(G,{breadcrumbs:me,children:[t.jsx(z,{title:"Programs"}),t.jsxs("div",{className:"flex flex-col gap-4 p-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h1",{className:"text-xl font-semibold",children:"Programs"}),t.jsx(ae,{})]}),t.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(te,{placeholder:"Search programs...",value:y,onChange:o=>$(o.target.value),className:"w-64"}),t.jsxs(q,{value:x,onValueChange:M,children:[t.jsx(D,{className:"w-40",children:t.jsx(T,{placeholder:"Category"})}),t.jsxs(E,{children:[t.jsx(j,{value:"all",children:"All Categories"}),Object.entries(L).map(([o,u])=>t.jsx(j,{value:o,children:u},o))]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Rows"}),t.jsxs(q,{value:b,onValueChange:o=>R(o),children:[t.jsx(D,{className:"w-[90px]",children:t.jsx(T,{})}),t.jsxs(E,{children:[t.jsx(j,{value:"10",children:"10"}),t.jsx(j,{value:"20",children:"20"}),t.jsx(j,{value:"50",children:"50"})]})]})]})]}),t.jsx("div",{className:"rounded-xl border",children:t.jsxs(J,{children:[t.jsx(K,{children:t.jsxs(N,{children:[t.jsx(h,{className:"w-[30%]",children:"Name"}),t.jsx(h,{children:"Category"}),t.jsx(h,{children:"Description"}),t.jsx(h,{children:"Courses"}),t.jsx(h,{children:"Created"}),t.jsx(h,{className:"text-right",children:"Actions"})]})}),t.jsxs(W,{children:[r.data.length===0&&t.jsx(N,{children:t.jsx(p,{colSpan:6,className:"text-center text-sm text-muted-foreground",children:"No programs found."})}),r.data.map(o=>t.jsxs(N,{children:[t.jsx(p,{className:"font-medium",children:t.jsx(le,{program:o,trigger:t.jsx("span",{className:"hover:underline cursor-pointer",children:o.name})})}),t.jsx(p,{children:t.jsx(H,{variant:"secondary",className:oe("text-white",o.color||ne[o.category]),children:L[o.category]})}),t.jsx(p,{children:t.jsx("div",{className:"max-w-xs truncate",children:o.description?t.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:o.description.replace(/<[^>]*>/g,"").substring(0,100)+"..."}}):"—"})}),t.jsx(p,{children:t.jsxs(H,{variant:"outline",children:[o.courses_count," courses"]})}),t.jsx(p,{children:new Date(o.created_at).toLocaleDateString()}),t.jsxs(p,{className:"text-right space-x-2",children:[t.jsx(ie,{program:o}),t.jsx(se,{program:o})]})]},o.id))]})]})}),r.last_page>1&&t.jsxs("div",{className:"mt-4 flex flex-col items-center justify-between gap-3 sm:flex-row",children:[t.jsxs("div",{className:"text-sm text-muted-foreground sm:text-left text-center w-full sm:w-auto",children:["Showing"," ",t.jsx("span",{className:"font-medium",children:(r.current_page-1)*r.per_page+1})," ","–"," ",t.jsx("span",{className:"font-medium",children:Math.min(r.current_page*r.per_page,r.total)})," ","of ",t.jsx("span",{className:"font-medium",children:r.total})," results"]}),t.jsx("div",{className:"sm:ml-auto",children:t.jsx(X,{children:t.jsxs(Y,{children:[t.jsx(S,{children:t.jsx(Z,{onClick:()=>A(r.current_page>1?r.current_page-1:null)})}),r.links.filter(o=>o.label!=="&laquo; Previous"&&o.label!=="Next &raquo;").map((o,u)=>t.jsx(S,{children:t.jsx(ee,{isActive:o.active,onClick:()=>V(o.url),dangerouslySetInnerHTML:{__html:o.label}})},u)),t.jsx(S,{children:t.jsx(re,{onClick:()=>A(r.current_page<r.last_page?r.current_page+1:null)})})]})})})]})]})]})}export{cr as default};
