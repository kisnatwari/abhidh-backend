import{u as b,r as n,b as u,j as e,H as _}from"./app-Bgxzhrvc.js";import{A as w}from"./app-layout-CT189y1p.js";import{T as h}from"./TeamController-DcRrgKb3.js";import{T as S,a as T,b as c,c as i,d as P,e as a}from"./table-CKJR3VTH.js";import{P as y,a as C,b as p,d as D,c as I,e as L}from"./pagination-DaBhj111.js";import{I as k}from"./input-B3PHjxIm.js";import{S as A,a as E,b as H,c as R,d}from"./select-eSxMpkvs.js";import $ from"./add-BpgRauAQ.js";import M from"./view-D8CxYBkS.js";import V from"./edit-7DREkh6m.js";import q from"./delete-CtwL2nhN.js";import"./app-h36GOZo8.js";import"./index-5AvLgYyg.js";import"./index-DzWfvSAt.js";import"./button-2PUVNpYc.js";import"./index-Np49ePWI.js";import"./index-DdyAvwB5.js";import"./index-Daeha8jH.js";import"./x-BCrVPaUR.js";import"./createLucideIcon-BU9_NwhO.js";import"./index-BNpA7cIy.js";import"./index-BWC38D-R.js";import"./index-DJFfSsPm.js";import"./dropdown-menu-BquuMAtw.js";import"./log-out-BTFO_Ir2.js";import"./index-DTMMEruM.js";import"./index-DW9AIAM8.js";import"./app-logo-icon-H5NLi0sV.js";import"./BlogController-BN_QdlpY.js";import"./TrainerController-kQzDYQyR.js";import"./GalleryController-DimcFaM-.js";import"./ProgramController-CdHtV-DA.js";import"./ServiceController-DioFTMLC.js";import"./CourseController-IFXHYWAo.js";import"./EnrollmentController-nChSkhQE.js";import"./users-DMU_DphB.js";import"./images-1y6J0UPH.js";import"./graduation-cap-BuMJYJEB.js";import"./book-open-check-pTXhZ5_H.js";import"./user-check-BqbDY3W7.js";import"./circle-user-round-Ct2jiSYs.js";import"./chevron-right-C2g-mDCD.js";import"./chevron-left-Drbz1378.js";import"./index-BK3Sl8pL.js";import"./chevron-down-DzLhHXXM.js";import"./check-CYIf4FlW.js";import"./chevron-up-C5vaA1vC.js";import"./dialog-DyAeqWL_.js";import"./label-HpvW4xIi.js";import"./input-error-9URGWeZJ.js";import"./image-DQYlxjbm.js";import"./loader-circle-BgM9NXsF.js";import"./trash-2-Du2-C_M2.js";const U=[{title:"Teams",href:h.index().url}];function Ue(){const{props:j}=b(),s=j.teams,x=n.useMemo(()=>{const r=new URL(window.location.href).searchParams;return{search:r.get("search")??"",perPage:r.get("per_page")??String(s.per_page||10)}},[s.per_page]),[o,g]=n.useState(x.search),[l,f]=n.useState(x.perPage);n.useEffect(()=>{const r=setTimeout(()=>m(1),350);return()=>clearTimeout(r)},[o,l]);const m=r=>{const t=new URLSearchParams;o&&t.set("search",o),l&&t.set("per_page",l),r&&r>1&&t.set("page",String(r));const v=`${h.index().url}${t.toString()?`?${t}`:""}`;u.visit(v,{preserveScroll:!0,preserveState:!0})},N=r=>{r&&u.visit(r,{preserveScroll:!0,preserveState:!0})};return e.jsxs(w,{breadcrumbs:U,children:[e.jsx(_,{title:"Teams"}),e.jsxs("div",{className:"flex flex-col gap-4 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Teams"}),e.jsx($,{})]}),e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(k,{placeholder:"Search name or designation...",value:o,onChange:r=>g(r.target.value),className:"w-64"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Rows"}),e.jsxs(A,{value:l,onValueChange:r=>f(r),children:[e.jsx(E,{className:"w-[90px]",children:e.jsx(H,{})}),e.jsxs(R,{children:[e.jsx(d,{value:"10",children:"10"}),e.jsx(d,{value:"20",children:"20"}),e.jsx(d,{value:"50",children:"50"})]})]})]})]}),e.jsx("div",{className:"rounded-xl border",children:e.jsxs(S,{children:[e.jsx(T,{children:e.jsxs(c,{children:[e.jsx(i,{className:"w-[100px]",children:"Photo"}),e.jsx(i,{className:"w-[30%]",children:"Name"}),e.jsx(i,{children:"Designation"}),e.jsx(i,{children:"Experience"}),e.jsx(i,{children:"Created"}),e.jsx(i,{className:"text-right",children:"Actions"})]})}),e.jsxs(P,{children:[s.data.length===0&&e.jsx(c,{children:e.jsx(a,{colSpan:6,className:"text-center text-sm text-muted-foreground",children:"No team members found."})}),s.data.map(r=>e.jsxs(c,{children:[e.jsx(a,{children:r.photo_url?e.jsx("img",{src:r.photo_url,alt:r.name,className:"h-12 w-12 rounded-full object-cover border"}):e.jsx("div",{className:"h-12 w-12 rounded-full border bg-muted/50 flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-muted-foreground",children:"No Photo"})})}),e.jsx(a,{className:"font-medium",children:e.jsx(M,{team:r,trigger:e.jsx("span",{className:"hover:underline cursor-pointer",children:r.name})})}),e.jsx(a,{children:r.designation}),e.jsx(a,{children:r.years_of_experience?`${r.years_of_experience} years`:"â€”"}),e.jsx(a,{children:new Date(r.created_at).toLocaleDateString()}),e.jsxs(a,{className:"text-right space-x-2",children:[e.jsx(V,{team:r}),e.jsx(q,{team:r})]})]},r.id))]})]})}),s.last_page>1&&e.jsxs("div",{className:"mt-4 flex flex-col items-center justify-between gap-3 sm:flex-row",children:[e.jsxs("div",{className:"text-sm text-muted-foreground sm:text-left text-center w-full sm:w-auto",children:["Showing"," ",e.jsx("span",{className:"font-medium",children:(s.current_page-1)*s.per_page+1})," ","â€“"," ",e.jsx("span",{className:"font-medium",children:Math.min(s.current_page*s.per_page,s.total)})," ","of ",e.jsx("span",{className:"font-medium",children:s.total})," results"]}),e.jsx("div",{className:"sm:ml-auto",children:e.jsx(y,{children:e.jsxs(C,{children:[e.jsx(p,{children:e.jsx(D,{onClick:()=>m(s.current_page>1?s.current_page-1:null)})}),s.links.filter(r=>r.label!=="&laquo; Previous"&&r.label!=="Next &raquo;").map((r,t)=>e.jsx(p,{children:e.jsx(I,{isActive:r.active,onClick:()=>N(r.url),dangerouslySetInnerHTML:{__html:r.label}})},t)),e.jsx(p,{children:e.jsx(L,{onClick:()=>m(s.current_page<s.last_page?s.current_page+1:null)})})]})})})]})]})]})}export{Ue as default};
