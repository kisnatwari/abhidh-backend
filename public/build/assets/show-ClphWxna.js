import{u as I,r as d,a as R,j as e,H as q,L as y}from"./app-Bgxzhrvc.js";import{A as G}from"./academy-layout-CuuJy5QJ.js";import{B as Q}from"./badge-COGybBTW.js";import{B as o}from"./button-2PUVNpYc.js";import{C as m,b as c,c as x,d as g,a as h}from"./card-CBO0ozHy.js";import{I as H}from"./input-B3PHjxIm.js";import{L as O}from"./label-HpvW4xIi.js";import{c as z}from"./index-5AvLgYyg.js";import{L as T}from"./layers-Dp42sfwO.js";import{G as W}from"./graduation-cap-BuMJYJEB.js";import{C}from"./clock-DTa5xwFK.js";import{D as V}from"./dollar-sign-r-soCzXq.js";import{B as Y}from"./book-open-BjiUjtD7.js";import{c as S}from"./createLucideIcon-BU9_NwhO.js";import{I as A}from"./image-DQYlxjbm.js";import{C as f}from"./circle-check-big-UZiRSrOv.js";import{C as J}from"./chevron-up-C5vaA1vC.js";import{C as K}from"./chevron-down-DzLhHXXM.js";import{S as X}from"./shield-check-XrSf_XCT.js";import"./app-h36GOZo8.js";import"./dropdown-menu-BquuMAtw.js";import"./index-DdyAvwB5.js";import"./index-Daeha8jH.js";import"./index-BNpA7cIy.js";import"./index-Np49ePWI.js";import"./index-BWC38D-R.js";import"./log-out-BTFO_Ir2.js";import"./youtube-THD4qb3f.js";import"./index-DzWfvSAt.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],ee=S("QrCode",Z);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],re=S("Upload",se),te=({enrollment:s})=>s?s.payment_verified?e.jsxs("div",{className:"rounded-2xl border border-emerald-200/50 bg-emerald-50/80 p-4 text-sm text-emerald-600 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[e.jsx(X,{className:"h-5 w-5"}),"Payment verified! You are enrolled in this course."]}),s.payment_verified_at?e.jsxs("p",{className:"mt-2 text-xs text-emerald-700",children:["Verified on ",new Date(s.payment_verified_at).toLocaleString()]}):null]}):e.jsxs("div",{className:"rounded-2xl border border-amber-200/60 bg-amber-50/80 p-4 text-sm text-amber-700 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[e.jsx(A,{className:"h-5 w-5"}),"Payment screenshot submitted. Awaiting verification."]}),e.jsx("p",{className:"mt-2 text-xs",children:"Our team will review your submission and notify you once your enrollment is confirmed."})]}):null,De=({course:s})=>{const j=I(),{auth:M,flash:u}=j.props,i=s.course_type==="self_paced",L=!!M?.user,b=d.useMemo(()=>{const[,r=""]=(j.url??"").split("?");return new URLSearchParams(r)},[j.url]),[v,w]=d.useState(()=>b.get("enroll")==="1"),[B,$]=d.useState(new Set);d.useEffect(()=>{b.get("enroll")==="1"&&w(!0)},[b]);const l=R({course_id:s.id,payment_screenshot:null}),D=r=>{const t=r.target.files?.[0]??null;l.setData("payment_screenshot",t)},E=r=>{r.preventDefault(),l.post("/academy/enrollments",{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{l.reset("payment_screenshot")}})},_=d.useMemo(()=>Array.isArray(s.topics)?s.topics.map((r,t)=>({id:`${s.id}-topic-${t}`,label:r?.label??null,subtopics:r?.subtopics??[],duration:r?.duration??null})).filter(r=>!!(r.label||r.subtopics.length||r.duration)):[],[s.id,s.topics]),k=d.useMemo(()=>Array.isArray(s.syllabus)?s.syllabus.map((r,t)=>({id:`${s.id}-session-${t}`,session:r.session??t+1,course_topic:r.course_topic??"",learnings:Array.isArray(r.learnings)?r.learnings.filter(Boolean):[],outcomes:Array.isArray(r.outcomes)?r.outcomes.filter(Boolean):[],hours:r.hours??null})):[],[s.id,s.syllabus]),P=`/login?redirect=${encodeURIComponent(`/academy/courses/${s.id}?enroll=1`)}`,U=s.enrollment?"Update payment screenshot":"Enroll now";return e.jsxs(G,{children:[e.jsx(q,{title:`${s.title} - Abhidh Academy`}),e.jsxs("section",{className:"relative overflow-hidden bg-linear-to-br from-primary/10 via-background to-secondary/40",children:[e.jsxs("div",{className:"absolute inset-0 -z-10",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,hsla(226,90%,90%,0.6),transparent_60%)]"}),e.jsx("div",{className:"absolute inset-y-0 right-[-20%] h-[70%] w-[60%] rounded-full bg-[radial-gradient(circle,hsla(210,95%,85%,0.45),transparent_65%)] blur-3xl opacity-80"}),e.jsx("div",{className:"absolute bottom-[-35%] left-[-15%] h-[65%] w-[55%] rounded-full bg-[radial-gradient(circle,hsla(226,75%,80%,0.35),transparent_65%)] blur-3xl"})]}),e.jsx("div",{className:"container mx-auto px-4 py-16 md:py-20",children:e.jsxs("div",{className:"grid gap-12 lg:grid-cols-[1.1fr_0.9fr] lg:items-start",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs(Q,{className:"bg-primary/10 text-primary",children:[e.jsx(T,{className:"mr-2 h-3.5 w-3.5"}),s.course_type_label]}),s.program?e.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-primary/20 bg-white/70 px-4 py-1 text-sm font-medium text-primary shadow-sm backdrop-blur",children:[e.jsx(W,{className:"h-4 w-4 text-primary"}),s.program.name]}):null,s.program?.category_label?e.jsx("span",{className:"rounded-full bg-primary/10 px-3 py-1 text-sm font-semibold text-primary",children:s.program.category_label}):null]}),e.jsx("h1",{className:"text-4xl font-black text-foreground md:text-5xl lg:text-6xl",children:s.title}),s.description?e.jsx("p",{className:"max-w-3xl text-lg leading-relaxed text-muted-foreground md:text-xl",children:s.description}):null,e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground",children:[s.duration?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-5 w-5 text-primary"}),e.jsx("span",{children:s.duration})]}):null,s.price&&i?e.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-primary/20 bg-primary/10 px-4 py-2 font-semibold text-primary",children:[e.jsx(V,{className:"h-5 w-5"}),e.jsxs("span",{children:["Rs. ",s.price.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}):null,s.key_learning_objectives.length?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-5 w-5 text-primary"}),e.jsxs("span",{children:[s.key_learning_objectives.length," learning goals"]})]}):null]})]}),e.jsx("div",{className:"rounded-2xl border border-primary/10 bg-white/85 p-6 shadow-[0_18px_60px_-32px_rgba(18,40,90,0.45)] backdrop-blur-xl",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Ready to get started?"}),!i&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"Interested in this guided course? Contact our team to learn about upcoming cohorts, schedules, and enrollment options."})]}),u?.success?e.jsx("div",{className:"rounded-lg border border-primary/20 bg-primary/10 px-4 py-3 text-sm text-primary",children:u.success}):null,u?.error?e.jsx("div",{className:"rounded-lg border border-destructive/20 bg-destructive/10 px-4 py-3 text-sm text-destructive",children:u.error}):null,i?e.jsxs(e.Fragment,{children:[e.jsx(te,{enrollment:s.enrollment}),!v&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload a payment screenshot to confirm your seat. Our team will verify within 24 hours and unlock your course access."}),L?e.jsxs("div",{className:"space-y-4",children:[e.jsx(o,{type:"button",className:"w-full bg-primary text-primary-foreground hover:bg-primary/90",onClick:()=>w(!0),children:U}),v?e.jsxs("form",{onSubmit:E,className:"space-y-4",id:"enroll-form",children:[e.jsx("input",{type:"hidden",name:"course_id",value:s.id}),e.jsx("div",{className:"rounded-xl border border-primary/20 bg-gradient-to-br from-primary/5 to-primary/10 p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center",children:[e.jsx("div",{className:"flex-shrink-0 mx-auto sm:mx-0",children:e.jsx("div",{className:"rounded-lg bg-white p-3 shadow-md",children:e.jsx("img",{src:"/payment-qr.jpg",alt:"Payment QR Code - NIC ASIA MoBank",className:"w-[200px] h-auto rounded",onError:r=>{const t=r.target;t.style.display="none";const a=t.parentElement;if(a&&!a.querySelector(".error-message")){const n=document.createElement("div");n.className="error-message text-sm text-muted-foreground text-center p-4",n.textContent="QR code image not found",a.appendChild(n)}}})})}),e.jsxs("div",{className:"flex-1 space-y-3 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-4 w-4 text-primary flex-shrink-0"}),e.jsx("h3",{className:"text-base font-semibold text-foreground",children:"Scan to Pay"})]}),s.price?e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Amount to pay:"}),e.jsxs("p",{className:"text-lg font-bold text-primary",children:["Rs. ",s.price.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}):null,e.jsxs("div",{className:"space-y-1.5 text-xs text-muted-foreground",children:[e.jsx("p",{className:"font-medium text-foreground text-sm mb-1.5",children:"Quick steps:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[e.jsx("li",{children:"Open your mobile banking app"}),e.jsx("li",{children:"Scan the QR code"}),e.jsx("li",{children:"Complete payment & take screenshot"}),e.jsx("li",{children:"Upload screenshot below"})]})]})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(O,{htmlFor:"payment_screenshot",className:"font-medium text-sm",children:"Upload Payment Screenshot"}),e.jsx(H,{id:"payment_screenshot",type:"file",accept:"image/*",onChange:D,className:z("cursor-pointer",l.errors.payment_screenshot?"border-destructive focus-visible:ring-destructive":"")}),l.errors.payment_screenshot?e.jsx("p",{className:"text-xs text-destructive",children:l.errors.payment_screenshot}):e.jsx("p",{className:"text-xs text-muted-foreground",children:"Accepted formats: JPG, PNG, GIF, WEBP. Maximum size 5MB."})]}),e.jsxs(o,{type:"submit",className:"w-full bg-primary text-primary-foreground hover:bg-primary/90",disabled:l.processing,children:[e.jsx(re,{className:"mr-2 h-4 w-4"}),l.processing?"Submitting...":"Submit Payment Screenshot"]})]}):null]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Please sign in to continue with enrollment. You can create an account in less than a minute."}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx(y,{href:P,children:e.jsx(o,{className:"bg-primary text-primary-foreground hover:bg-primary/90",children:"Log in"})}),e.jsx(y,{href:"/register",children:e.jsx(o,{variant:"outline",className:"border-primary/30 text-primary hover:border-primary hover:text-primary",children:"Create Account"})})]})]}),s.enrollment?.payment_screenshot_url?e.jsxs("div",{className:"rounded-xl border border-primary/10 bg-primary/5 p-4 text-xs text-muted-foreground",children:[e.jsx("p",{className:"font-medium text-primary",children:"Latest submission"}),e.jsxs("p",{className:"mt-1",children:["Uploaded on"," ",s.enrollment.submitted_at?new Date(s.enrollment.submitted_at).toLocaleString():"â€”"]}),e.jsxs("a",{href:s.enrollment.payment_screenshot_url,target:"_blank",rel:"noopener noreferrer",className:"mt-2 inline-flex items-center gap-2 text-primary underline",children:[e.jsx(A,{className:"h-4 w-4"}),"View uploaded screenshot"]})]}):null]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-2xl border border-primary/20 bg-primary/5 p-4 text-sm text-muted-foreground",children:[e.jsx("p",{className:"mb-3 font-semibold text-foreground",children:"Guided courses require manual enrollment"}),e.jsx("p",{children:"Our team will provide you with detailed information about schedules, pricing, and enrollment process."})]}),e.jsx(o,{className:"w-full bg-primary text-primary-foreground hover:bg-primary/90",asChild:!0,children:e.jsx(y,{href:`/academy/contact?course=${s.id}`,children:"Contact Us to Enroll"})})]})]})})]})})]}),e.jsx("section",{className:"border-y bg-white/90 py-14",children:e.jsxs("div",{className:"container mx-auto grid gap-10 px-4 lg:grid-cols-[1.1fr_0.9fr]",children:[e.jsxs("div",{className:"space-y-8",children:[s.key_learning_objectives.length?e.jsxs(m,{className:"border border-primary/10",children:[e.jsxs(c,{children:[e.jsx(x,{children:"What you'll learn"}),e.jsx(g,{children:"Designed by Abhidh mentors to deliver tangible progress throughout the course."})]}),e.jsx(h,{className:"grid gap-3 sm:grid-cols-2",children:s.key_learning_objectives.map((r,t)=>e.jsxs("div",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[e.jsx(f,{className:"mt-0.5 h-4 w-4 text-primary"}),e.jsx("span",{children:r})]},t))})]}):null,i&&_.length?e.jsxs(m,{className:"border border-primary/10",children:[e.jsx(c,{children:e.jsx(x,{children:"Included modules"})}),e.jsx(h,{className:"space-y-3",children:_.map((r,t)=>{const a=t+1,n=B.has(r.id),F=()=>{$(N=>{const p=new Set(N);return n?p.delete(r.id):p.add(r.id),p})};return e.jsxs("div",{className:"rounded-lg border border-primary/10 bg-primary/5 overflow-hidden transition-all",children:[e.jsxs("button",{onClick:F,className:"w-full flex items-center justify-between gap-3 px-4 py-3 text-left hover:bg-primary/10 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsxs("span",{className:"font-semibold text-primary flex-shrink-0",children:["Module ",a]}),e.jsx("span",{className:"font-semibold text-foreground truncate",children:r.label})]}),e.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[r.duration?e.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:r.duration}):null,n?e.jsx(J,{className:"h-4 w-4 text-primary"}):e.jsx(K,{className:"h-4 w-4 text-primary"})]})]}),n&&r.subtopics?.length?e.jsx("div",{className:"px-4 pb-3 pt-0",children:e.jsx("ul",{className:"space-y-1.5 text-xs text-muted-foreground",children:r.subtopics.filter(Boolean).map((N,p)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"mt-1.5 h-1.5 w-1.5 rounded-full bg-primary/70 flex-shrink-0"}),e.jsx("span",{children:N})]},`${r.id}-subtopic-${p}`))})}):null]},r.id)})})]}):null,!i&&k.length?e.jsxs(m,{className:"border border-primary/10",children:[e.jsxs(c,{children:[e.jsx(x,{children:"Course syllabus"}),e.jsx(g,{children:"Every session is structured with live instruction and guided activities."})]}),e.jsx(h,{className:"space-y-4",children:k.map(r=>e.jsxs("div",{className:"rounded-xl border border-primary/10 bg-primary/5 p-5",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{className:"text-sm font-semibold text-primary",children:["Session ",r.session]}),r.hours?e.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-primary/20 bg-white/80 px-3 py-1 text-xs text-primary",children:[e.jsx(C,{className:"h-3.5 w-3.5"}),r.hours," hrs"]}):null]}),e.jsx("h3",{className:"mt-2 text-lg font-semibold text-foreground",children:r.course_topic}),r.learnings.length?e.jsxs("div",{className:"mt-4 space-y-2 text-sm text-muted-foreground",children:[e.jsx("p",{className:"font-semibold text-foreground",children:"Key learnings"}),e.jsx("ul",{className:"space-y-1",children:r.learnings.map((t,a)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"mt-1 h-1.5 w-1.5 rounded-full bg-primary"}),t]},`${r.id}-learning-${a}`))})]}):null,r.outcomes.length?e.jsxs("div",{className:"mt-4 space-y-2 text-sm text-muted-foreground",children:[e.jsx("p",{className:"font-semibold text-foreground",children:"Expected outcomes"}),e.jsx("ul",{className:"space-y-1",children:r.outcomes.map((t,a)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"mt-1 h-1.5 w-1.5 rounded-full bg-primary/70"}),t]},`${r.id}-outcome-${a}`))})]}):null]},r.id))})]}):null]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(m,{className:"border border-primary/10",children:[e.jsx(c,{children:e.jsx(x,{children:"Why learners pick this track"})}),e.jsxs(h,{className:"space-y-3 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(f,{className:"mt-0.5 h-4 w-4 text-primary"}),e.jsx("span",{children:"Structured journey designed by Abhidh mentors."})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(f,{className:"mt-0.5 h-4 w-4 text-primary"}),e.jsx("span",{children:i?"Lifetime access to modules and future updates.":"Live facilitation with mentor feedback."})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(f,{className:"mt-0.5 h-4 w-4 text-primary"}),e.jsx("span",{children:"Completion certificate upon satisfying the course outcomes."})]})]})]}),s.program?e.jsx(m,{className:"border border-primary/10 bg-primary/5",children:e.jsxs(c,{children:[e.jsxs(x,{className:"text-primary",children:["Part of ",s.program.name]}),e.jsxs(g,{children:["A curated experience within the ",s.program.name," program, combining guided mentorship and industry-ready projects."]})]})}):null,i?null:e.jsxs(m,{className:"border border-primary/10",children:[e.jsxs(c,{children:[e.jsx(x,{children:"Need schedule & pricing?"}),e.jsx(g,{children:"Share your requirements and we'll customise the cohort timeline for your team or institution."})]}),e.jsx(h,{children:e.jsx(o,{className:"w-full bg-primary text-primary-foreground hover:bg-primary/90",asChild:!0,children:e.jsx(y,{href:`/academy/contact?course=${s.id}`,children:"Talk to our success team"})})})]})]})]})})]})};export{De as default};
